{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "expandable",
  "type": "registry:component",
  "title": "Expandable",
  "description": "A compound expandable component with smooth height animations.",
  "dependencies": [
    "framer-motion"
  ],
  "files": [
    {
      "path": "registry/new-york/ui/expandable.tsx",
      "content": "\"use client\";\n\nimport * as React from \"react\";\nimport { motion } from \"framer-motion\";\nimport { cn } from \"@/lib/utils\";\n\ninterface ExpandableProps {\n  trigger: React.ReactNode;\n  children: React.ReactNode;\n  className?: string;\n}\n\nconst ExpandableContext = React.createContext<{\n  isOpen: boolean;\n  setIsOpen: (value: boolean) => void;\n} | null>(null);\n\nfunction useExpandable() {\n  const context = React.useContext(ExpandableContext);\n  if (!context) {\n    throw new Error(\"Expandable components must be used within an Expandable\");\n  }\n  return context;\n}\n\nfunction Expandable({ trigger, children, className }: ExpandableProps) {\n  const [isOpen, setIsOpen] = React.useState(false);\n\n  return (\n    <ExpandableContext.Provider value={{ isOpen, setIsOpen }}>\n      <div\n        onMouseEnter={() => setIsOpen(true)}\n        onMouseLeave={() => setIsOpen(false)}\n        className={cn(\"\", className)}\n      >\n        {trigger}\n        {children}\n      </div>\n    </ExpandableContext.Provider>\n  );\n}\n\ninterface ExpandableContentProps extends React.HTMLAttributes<HTMLDivElement> {\n  className?: string;\n  children?: React.ReactNode;\n}\n\nfunction ExpandableContent({\n  className,\n  children,\n  ...props\n}: ExpandableContentProps) {\n  const { isOpen } = useExpandable();\n  const contentRef = React.useRef<HTMLDivElement>(null);\n  const [height, setHeight] = React.useState(0);\n  const peekHeight = 40; // Show ~24px of content as a hint\n\n  React.useEffect(() => {\n    if (contentRef.current) {\n      const resizeObserver = new ResizeObserver((entries) => {\n        const entry = entries[0];\n        if (entry) {\n          setHeight(entry.contentRect.height);\n        }\n      });\n\n      resizeObserver.observe(contentRef.current);\n      return () => resizeObserver.disconnect();\n    }\n  }, []);\n\n  return (\n    <motion.div\n      initial={false}\n      animate={{\n        height: isOpen ? height : peekHeight,\n      }}\n      transition={{ duration: 0.2, ease: \"easeInOut\" }}\n      className=\"overflow-hidden relative\"\n    >\n      <div\n        ref={contentRef}\n        className={cn(\"border-l pl-3 transition-shadow\", className)}\n        {...props}\n      >\n        {children}\n      </div>\n      {!isOpen && (\n        <div className=\"absolute inset-0 bg-gradient-to-b from-transparent via-background/50 to-background pointer-events-none\" />\n      )}\n    </motion.div>\n  );\n}\n\nexport { Expandable, ExpandableContent };\n",
      "type": "registry:component"
    }
  ]
}